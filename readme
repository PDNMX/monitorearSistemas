# ğŸŒŸ API Service Data Collector
## ğŸ“‹ DescripciÃ³n

Este proyecto consiste en tres scripts de servicio (`APIService_s1.js`, `APIService_s2.js`, y `APIService_s3.js`) diseÃ±ados para recolectar datos de diferentes endpoints. Los scripts pueden ejecutarse individualmente o en conjunto a travÃ©s del archivo `index.js`.

## ğŸš€ CaracterÃ­sticas

- âœ¨ RecolecciÃ³n automatizada de datos de mÃºltiples endpoints
- ğŸ“Š GeneraciÃ³n de archivos CSV con resultados
- ğŸ”„ Manejo de errores y registro detallado
- ğŸ“ Logging completo de operaciones
- âš¡ EjecuciÃ³n individual o conjunta de servicios

## ğŸ› ï¸ ConfiguraciÃ³n

### Requisitos Previos

```bash
node >= 14.x
npm >= 6.x
```

### ConfiguraciÃ³n del Archivo .env

Crear un archivo `.env` en la raÃ­z del proyecto con las siguientes variables pero sustituyendo las rutas de los archivos de entrada:

```env
# Variables de entrada
ruta_endpoints_s1="/EndPoints_s1/endpointsS1.json"
ruta_endpoints_s2="/EndPoints_s2/endpointsS2.json"
ruta_endpoints_s3="/EndPoints_s3/endpointsS3.json"

# Variables de salida
salida_s1="resultados_s1"
salida_s2="resultados_s2"
salida_s3="resultados_s3"
```

### Estructura de Directorios

```
proyecto/
â”œâ”€â”€ .env
â”œâ”€â”€ index.js
â”œâ”€â”€ APIService_s1.js
â”œâ”€â”€ APIService_s2.js
â”œâ”€â”€ APIService_s3.js
â”œâ”€â”€ EndPointsAPIS/
â”‚   â”œâ”€â”€ EndPoints_s1/
â”‚   â”‚   â””â”€â”€ endpointsS1.json
â”‚   â”œâ”€â”€ EndPoints_s2/
â”‚   â”‚   â””â”€â”€ endpointsS2.json
â”‚   â””â”€â”€ EndPoints_s3/
â”‚       â””â”€â”€ endpointsS3.json
â””â”€â”€ resultados/
    â”œâ”€â”€ resultados_s1/
    â”œâ”€â”€ resultados_s2/
    â””â”€â”€ resultados_s3/
```

## ğŸ’» Uso

### EjecuciÃ³n Individual

Para ejecutar cada servicio individualmente:

```bash
node APIService_s1.js
node APIService_s2.js
node APIService_s3.js
```

### EjecuciÃ³n Conjunta

Para ejecutar todos los servicios:

```bash
node index.js
```

## ğŸ“ Archivos de Salida

Cada servicio genera los siguientes archivos en su respectivo directorio de salida:

```
resultados_sX/
â”œâ”€â”€ resultados_sX_[fecha].csv    # Resultados diarios
â”œâ”€â”€ total_registros.csv          # Totales acumulados
â””â”€â”€ errores_sX_[fecha].csv       # Registro de errores
```

## ğŸ“Š Formato de Archivos CSV

### resultados_sX_[fecha].csv
```csv
Fecha,Proveedor,ID,Total_Registros
```

### total_registros.csv
```csv
Fecha,Total_Registros
```

### errores_sX_[fecha].csv
```csv
Fecha,Proveedor,ID,Mensaje_Error,Codigo_HTTP,Detalles
```

## âš ï¸ Manejo de Errores

- Los errores detallados se registran en archivos separados
- El archivo principal marca registros con error como "No disponible"
- Se mantiene un log completo de todas las operaciones

## ğŸ” Logging

El sistema utiliza `log4js` para mantener un registro detallado de:
- âœ… Operaciones exitosas
- âŒ Errores y excepciones
- â±ï¸ Tiempos de ejecuciÃ³n
- ğŸ“ Detalles de respuestas

## ğŸ‘¥ ContribuciÃ³n

Las contribuciones son bienvenidas. Por favor, asegÃºrese de:
1. Hacer fork del repositorio
2. Crear una rama para su feature
3. Hacer commit de sus cambios
4. Hacer push a la rama
5. Crear un Pull Request

## ğŸ“œ Licencia

Este proyecto estÃ¡ bajo la licencia MIT. Ver el archivo `LICENSE` para mÃ¡s detalles.

---

Desarrollado con â¤ï¸ por el equipo de desarrollo

